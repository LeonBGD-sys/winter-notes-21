<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>F√ºr dich ‚ù§Ô∏è</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #000;
  color: #fff;
  text-align: center;
  overflow-x: hidden;
  position: relative;
}

/* ===== HERO ===== */
.hero-container {
  position: relative;
  height: 100vh;
  overflow: hidden;
}

.hero-slide {
  position: absolute;
  inset: 0;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  background-color: #000;
  opacity: 0;
  transition: opacity 1.5s ease-in-out;
  z-index: -1;
}

.hero-slide.active {
  opacity: 1;
}

.hero-text {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  text-shadow: 2px 2px 6px #000;
  z-index: 2;
}

.hero-text h1 {
  font-size: 2.8em;
  margin: 0;
}

.hero-text p {
  font-size: 1.2em;
  margin-top: 5px;
}

#hero-countdown {
  margin-top: 10px;
  font-size: 1.1em;
  font-style: italic;
  opacity: 0.9;
}

/* ===== HINWEISE ===== */
.hint {
  margin: 60px auto;
  max-width: 800px;
  padding: 0 20px;
  opacity: 0;
  transform: translateY(30px);
  animation: fadeInUp 1.2s ease forwards;
}

.hint img {
  width: 100%;
  border-radius: 12px;
  margin-top: 15px;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== CANVAS F√úR PARTIKEL ===== */
#season-canvas {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1; /* hinter Hero-Text, √ºber Slides */
}
</style>
</head>
<body>

<!-- ===== HERO ===== -->
<div class="hero-container" id="hero-container">
  <canvas id="season-canvas"></canvas>
  <div class="hero-text">
    <h1> ‚ù§Ô∏è F√ºr dich ‚ù§Ô∏è</h1>
    <p>Jeden Monat ein kleiner Hinweis‚Ä¶</p>
    <div id="hero-countdown"></div>
  </div>
</div>

<div id="hints-container"></div>

<!-- ===== MUSIK ===== -->
<audio id="bg-music" loop>
  <source src="Send Me On My Way.mp3" type="audio/mpeg">
</audio>

<script>
/*************** MODUS ***************/
const TEST_MODE = true;

/*************** WARTE-TEXTE ***************/
const waitingTexts = [
  "Tut mir leid‚Ä¶ du musst dich noch etwas gedulden ‚ù§Ô∏è",
  "Haha, nice try üòå",
  "Geduld ist eine Tugend‚Ä¶ üòâ",
  "Noch nicht‚Ä¶ aber bald üï∞Ô∏è",
  "Ich wei√ü, du bist neugierig üòè",
  "Fast‚Ä¶ aber eben nur fast ‚ù§Ô∏è",
  "Schummeln gilt nicht üòÑ",
  "Ein bisschen Spannung muss sein ‚ú®",
  "Warten geh√∂rt manchmal dazu üí≠",
  "Noch ist es nicht soweit‚Ä¶"
];

/*************** ZUFALLSDATEN HINWEISE ***************/
function randomDay(year, month) {
  const days = new Date(year, month + 1, 0).getDate();
  return Math.floor(Math.random() * (days - 6)) + 3;
}

function generateDates() {
  const stored = localStorage.getItem("hintDates");
  if (stored) return JSON.parse(stored);

  const dates = ["2026-01-21"];
  for (let m = 1; m < 12; m++) {
    const d = randomDay(2026, m);
    dates.push(new Date(2026, m, d).toISOString().split("T")[0]);
  }
  localStorage.setItem("hintDates", JSON.stringify(dates));
  return dates;
}
const hintDates = generateDates();

/*************** HINWEISE ***************/
const hints = [
  { title: "Januar ‚ù§Ô∏è", text: "Hier kommt dein erster Hinweis‚Ä¶", img: "hinweis01.png" },
  { title: "Februar ‚ù§Ô∏è", text: "Der zweite kleine Hinweis wartet‚Ä¶", img: "hinweis02.png" },
  { title: "M√§rz ‚ù§Ô∏è", text: "Ein neuer Monat, ein neuer Hinweis‚Ä¶", img: "hinweis03.png" },
  { title: "April ‚ù§Ô∏è", text: "Vielleicht erinnerst du dich‚Ä¶", img: "hinweis04.png" },
  { title: "Mai ‚ù§Ô∏è", text: "Ein weiterer Hinweis f√ºr dich‚Ä¶", img: "hinweis05.png" },
  { title: "Juni ‚ù§Ô∏è", text: "Halbzeit‚Ä¶", img: "hinweis06.png" },
  { title: "Juli ‚ù§Ô∏è", text: "Sommer & Erinnerungen‚Ä¶", img: "hinweis07.png" },
  { title: "August ‚ù§Ô∏è", text: "Warm wie dieser Monat‚Ä¶", img: "hinweis08.png" },
  { title: "September ‚ù§Ô∏è", text: "Der Herbst kommt n√§her‚Ä¶", img: "hinweis09.png" },
  { title: "Oktober ‚ù§Ô∏è", text: "Ein geheimnisvoller Hinweis‚Ä¶", img: "hinweis10.png" },
  { title: "November ‚ù§Ô∏è", text: "Fast am Ziel‚Ä¶", img: "hinweis11.png" },
  { title: "24. Dezember üéÑ‚ù§Ô∏è", text: "Der letzte Hinweis‚Ä¶", img: "hinweis12.png" }
];

const container = document.getElementById("hints-container");
const now = new Date();

hints.forEach((hint, i) => {
  if (TEST_MODE || now >= new Date(hintDates[i])) {
    const div = document.createElement("div");
    div.className = "hint";
    div.style.animationDelay = `${(i+1)*2.5}s`;
    div.innerHTML = `<h2>${hint.title}</h2><p>${hint.text}</p><img src="${hint.img}">`;
    container.appendChild(div);
  }
});

/*************** HERO COUNTDOWN ***************/
if (!TEST_MODE) {
  const nextIndex = hintDates.findIndex(d => now < new Date(d));
  if (nextIndex !== -1) {
    const heroCountdown = document.getElementById("hero-countdown");
    const randomText = waitingTexts[Math.floor(Math.random() * waitingTexts.length)];

    function updateCountdown() {
      const diff = new Date(hintDates[nextIndex]) - new Date();
      if(diff <= 0) location.reload();
      const days = Math.floor(diff / (1000*60*60*24));
      const hours = Math.floor((diff / (1000*60*60)) % 24);
      const minutes = Math.floor((diff / (1000*60)) % 60);
      heroCountdown.innerHTML = `
        ${randomText}<br>
        <strong>N√§chster Hinweis in ${days} Tagen, ${hours} Stunden, ${minutes} Minuten ‚ù§Ô∏è</strong>
      `;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);
  }
}

/*************** HERO SLIDESHOW ***************/
let backgrounds = [];
for(let i=1;i<=20;i++){
  backgrounds.push(`Hintergrund${i.toString().padStart(2,'0')}.png`);
}
backgrounds = backgrounds.sort(() => Math.random() - 0.5);

const heroContainer = document.getElementById("hero-container");

backgrounds.forEach(bg => {
  const div = document.createElement("div");
  div.className = "hero-slide";
  div.style.backgroundImage = `url(${bg})`;
  heroContainer.appendChild(div);
});

let slides = document.querySelectorAll(".hero-slide");
let current = 0;
slides[current].classList.add("active");

setInterval(() => {
  slides[current].classList.remove("active");
  current = (current+1) % slides.length;
  slides[current].classList.add("active");
}, 8000);

/*************** MUSIK ***************/
let started = false;
document.addEventListener("click", () => {
  if(!started){
    document.getElementById("bg-music").play();
    started = true;
  }
});

/*************** SAISONALE HINTERGRUND-PARTIKEL ***************/
const canvas = document.getElementById("season-canvas");
const ctx = canvas.getContext("2d");
let particles = [];

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

// Saison erkennen
function getSeason() {
  const month = now.getMonth(); // 0-11
  const day = now.getDate();
  if(month === 0 || month === 1 || month === 2 || (month===3 && day<=15)) return 'winter';
  if((month===3 && day>15) || month===4 || month===5) return 'spring';
  if(month>=5 && month<=8) return 'summer';
  return 'autumn';
}

const season = getSeason();

// Partikel-Setup
function createParticle() {
  let x = Math.random() * canvas.width;
  let y = Math.random() * canvas.height;
  let size = Math.random() * 4 + 2;
  let speedY = Math.random() * 1 + 0.3;
  let speedX = (Math.random()-0.5)*0.5;
  let color = '#fff';
  let type = season;

  if(type==='spring') color = `rgba(255,192,203,${Math.random()})`; // rosa Bl√ºten
  if(type==='summer') color = `rgba(255,255,200,${Math.random()})`; // sonnig
  if(type==='autumn') color = `rgba(${150+Math.random()*105}, ${50+Math.random()*50}, 0, ${Math.random()})`; // Laub

  return {x, y, size, speedX, speedY, color, type};
}

// initial 100 Partikel
for(let i=0;i<100;i++) particles.push(createParticle());

function updateParticles() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p => {
    p.x += p.speedX;
    p.y += p.speedY;

    // Reset oben/unten
    if(p.type==='winter' && p.y>canvas.height) { p.y=0; p.x=Math.random()*canvas.width; }
    if(p.type==='spring' && p.y<0) { p.y=canvas.height; p.x=Math.random()*canvas.width; }
    if(p.type==='autumn' && p.y>canvas.height) { p.y=0; p.x=Math.random()*canvas.width; }

    ctx.beginPath();
    if(p.type==='summer') ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
    else ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
    ctx.fillStyle = p.color;
    ctx.fill();
  });
  requestAnimationFrame(updateParticles);
}
updateParticles();
</script>
</body>
</html>
